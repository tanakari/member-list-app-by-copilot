# アーキテクチャ

## 概要

- **DDD（ドメイン駆動設計）** を採用する
- ドメインロジックは `domain` 層に実装する
- ユースケースは `application` 層に実装する
- Web コントローラ等は `presentation` 層に実装する
- インフラ依存は `infrastructure` 層に実装する

# 非機能ルール

- クリーンアーキテクチャの原則に従う
- 各層は明確に分離し、直接依存しない
- 各層は単一責任の原則に従う
- テスト容易性を優先し、I/O を境界で分離する
- 可能な限りDTOではなくrecordを利用する
- record（DTO）は境界で使用し、ドメインモデルを汚染しない
- ユースケースはアプリケーション固有のロジックに集中し、ドメインロジックを含まない
- インフラ層は外部システムとの通信に限定し、ドメインロジックを含まない
- モックやスタブを使用して、外部依存を排除する
- 例外は境界でキャッチし、適切にハンドリングする
